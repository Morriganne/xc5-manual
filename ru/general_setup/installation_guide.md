---
lang: ru
layout: article_with_sidebar
updated_at: '2017-10-17 15:38 +0400'
identifier: ref_ZlmtdzS3
title: Руководство по установке X-Cart
order: 10
published: false
redirect_from:
  - /ru/документация_на_русском/установка_x-cart_5.html
description: Получите советы по выбору и настройке сервера и установке X-Cart 5
icon: download
---
## Введение

Статья описывает процесс установки магазина X-Cart на сервере.

## Содержание

*   [Системные требования](#системные-требования)
*   [Аппаратные требования](#аппаратные-требования)
*   [Совместимость с браузерами](#совместимость-с-браузерами)
*   [Установка X-Cart](#установка-X-Cart)
    *   [Загрузка файлов X-Cart на сервер](#Загрузка файлов X-Cart на сервер)
    *   [Создание базы данных](#Создание базы данных)
    *   [Запуск мастера установки](#Запуск мастера установки)
        *   [Шаг 1\. ринятие лицензионного соглашения](#Шаг 1. Принятие лицензионного соглашения)
        *   [Шаг 2\. Создание учетной записи администратора](#шаг-2.-создание-учетной-записи-администратора)
        *   [Шаг 3\. Проверка среды установки](#Шаг 3. Проверка среды установки)
        *   [Шаг 4\. Настройка конфигурации X-Cart](#Шаг 4. Настройка конфигурации X-Cart)
        *   [Шаги 5 и 6\. Немного магии](#Шаги 5 и 6\. Немного магии)
        *   [Шаг 7\. Установка завершена.](#шаг-7.-установка-завершена.)
 *   [Возможные проблемы с установкой](#Возможные проблемы с установкой)
     *   [1. Проблемы с подключением к базе данных](#1.Проблемы с подключением к базе данных)
     *   [2. Сбой проверки прав доступа](#2.Сбой проверки прав доступа)
     *   [3. Отключенные функции](#3.Отключенные функции)
     *   [4. Отключенные PHP расширения](#4.Отключенные PHP расширения)
     *   [5. HTTPS баунсер не установлен](#5 HTTPS баунсер не установлен)
 
 
## Системные требования

Прежде чем начать установку X-Cart, необходимо удостовериться, что сервер отвечает системным требованиям X-Cart. Если проверка не сделана, в процессе установки X-Cart сообщит, что какие-то требования не выполняются. 

Список системных требований:

1.  PHP версии 5.4 или новее;
2.  расширение __PDO__ с драйвером MySQL;
3.  расширение __Phar__;
3.  рекомендуется расширение __mbstring__ (для ускорения строковых операций);
4.  MySQL версии 5.1.31 или новее; также, подойдет совместимая с MySQL система MariaDB;
5.  200-300 Мб свободного пространства на диске;
6.  поддержка модуля libCURL (версия CURL должна быть не ниже 7.39.0; рекомендуется версия 7.43.0);
7.  директива `ini_set` должна быть включена в настройках PHP;
8.  директива `safe_mode` должна быть отключена
9.  директива `file_uploads` должна быть включена в настройках PHP;
10. значение `post_max_size` должно быть 2M и превышать значение `upload_max_filesize` (критично для установки);
11. значение `upload_max_filesize` должно быть 2M и более;
12. директива `magic_quotes_runtime` должна быть отключена (для PHP версий ниже 5.4.x);
13. значение `memory_limit` должно быть 128M и более (если на сервере 64-разрядный процессор, значение `memory_limit` должно быть 256M и более)
14. GDLib 2.0 или ImageMagick (для корректного изменения размера изображений);
15. {% link "время работы PHP" ref_xqnpttd4 %}, настроенное в соответствие с конфигурацией сервера;
16. такие компоненты, как `mod_rewrite`  для работы SEO-оптимизированных семантических ссылок;
17. при включенном `xdebug`, значение `xdebug.max_nesting_level` должно быть 300
18. при включенной директиве `OPcache`, `opcache.save_comments` и `opcache.load_comments` должны быть включены (значение “1”); никакие другие кешеры не должны вырезать комментарии из кода. 

## Загрузите файлы X-Cart на ваш сервер

1.  Скачайте самую свежую версию дистрибутива X-Cart с нашего сайта [http://www.x-cart.ru/download.html](http://www.x-cart.ru/download.html);
2.  Загрузите этот дистрибутив на ваш сервер (вы можете это сделать через ФТП или Панель Управления вашего хостинга);
3.  Распакуйте дистрибутив X-Cart в какую-нибудь папку вашего сервера. Вы можете сделать это, используя следующую команду для командной строки в Панели Управления:

    для zip-архива:

    ```php
    unzip x-cart-5.3.3.4-ru.zip
    ```

    для tgz-архива: 

    ```php
    tar -xzpf x-cart-5.3.3.4-ru.tgz
    ```

## Создайте базу данных

Вы можете создать базу данных, используя средства Панели Управления вашего хостинга. Запомните логин, пароль и имя базы данных в процессе её создания.

## Запустите скрипт установки и следуйте подсказкам

### Шаг 1\. Лицензионной соглашение

Для того, чтобы запустить процесс установки, откройте следующий путь в вашем браузере:

```php
http://<адрес-вашего-сервера>/<папка-икс-карта>/install.php
```

В браузере должен появится **первый шаг** установки: 

![]({{site.baseurl}}/attachments/7505579/8719626.png)

Примите лицензионное соглашение и нажмите кнопку **Далее**:

![]({{site.baseurl}}/attachments/7505579/8719627.png)

### Шаг 2\. Создание учетной записи администратора

Укажите электронный адрес и пароль администратора и нажмите кнопку **Далее.**

**![]({{site.baseurl}}/attachments/7505579/8719628.png)
**

### Шаг 3\. Проверка среды.

На этом шаге скрипт проверяет, удовлетворяет ли ваш хостинг системным требованиям. Если есть какие-то проблемы, то о них будет сообщено с подсказкой, что нужно сделать, чтобы исправить ситуацию. Если проблем нет, переход к следующему шагу будет осуществлен автоматически.

![]({{site.baseurl}}/attachments/7505579/8719630.png)

### Шаг 4\. Настройка параметров X-Cart.

На этом шаге необходимо указать базовые параметры вашего магазина (информацию для доступа к базе данных, адрес вашего магазина в интернете и т.д.)

![]({{site.baseurl}}/attachments/7505579/8719629.png)

В первую очередь, на данной странице находятся поля для настройки соединения X-Cart с базой данных:

*   **Имя MySQL сервера**: Имя хоста MySQL сервера или IP адрес. Обычно это **localhost**. Если имя другое, вы, скорее всего, об этом уже знаете.
*   **Имя MySQL базы данных**: Имя готовой базы данных, которая будет использована для установки X-Cart. Если указанной базы данных не существует, скрипт установки попытается ее создать.
*   **Имя пользователя MySQL**: Имя пользователя MySQL. Пользователь должен иметь неограниченный доступ к указанной выше базе данных.
*   **MySQL пароль**: Пароль вышеупомянутого пользователя MySQL.

Также здесь есть настройка **Установить каталог демо-товаров**. Если вы только начинаете знакомство с X-Cart, мы рекомендуем включить ее. В этом случае после установки вы получите не пустой магазин, а магазин с каталогом товаров, настроенных для примера.

Ссылки "Расширенные настройки MySQL" и "Расширенные настройки сервера" в нижней части страницы позволяют получить доступ к дополнительным секциям настроек:

![]({{site.baseurl}}/attachments/7505579/8719631.png)

#### Расширенные настройки MySQL

![]({{site.baseurl}}/attachments/7505579/8719632.png)

В данной секции находятся следующие настройки:

*   **Порт MySQL сервера**: Если ваш сервер использует нестандартный порт, укажите его здесь (например, 3306).
*   **Сокет MySQL сервера**: Если ваш сервер базы использует нестандартный сокет, укажите его здесь (например, /tmp/mysql-5.1.34.sock).
*   **MySQL tables prefix**: Префикс для таблиц в базе данных.

#### Расширенные настройки сервера

![]({{site.baseurl}}/attachments/7505579/8719634.png)

В данной секции находятся следующие настройки:

*   **Имя web-сервера**: 
*   **Безопасное имя web-сервера**:
*   **Веб-директория X-Cart 5**:

Значения данных настроек предзаполняются автоматически. Убедитесь, что выставленные в вышеперечисленных полях значения верны.

Настройка **Часовой пояс по умолчанию** позволяет выбрать часовой пояс вашего магазина. Данное значение требуется для правильной установки времени, дат, формата чисел. 

Как только всё будет настроено, нажмите кнопку **Далее**.

### Шаг 5\. Настройка директорий и Шаг 6\. Генерация кеша.

На этих шагах установщик X-Cart разворачивает магазин. Подождите, пока он закончит.

### Шаг 7\. Установка завершена.

Установка завершена, и вы можете зайти в зону покупателей и в зону администрирования для дальнейшей настройки своего магазина.

![]({{site.baseurl}}/attachments/7505579/8719635.png)


## Возможные проблемы с установкой

По проблемам с **проверкой среды**, X-Cart предоставляет инструкции по их устранению. С решением таких проблем справится ваш хостинг провайдер или программист. Данный раздел описывает типичные проблемы и пути их решения.

### 1. Проблемы с подключением к базе данных

Ошибка подключения к базе говорит о том, что указаны неверные MySQL логин и пароль или MySQL сервер/база данных неправильно настроены. 
Примеры:

1.  ```php
    FATAL ERROR: Cannot connect to the specified MySQL server : SQLSTATE[28000] [1045] Access denied for user 'tony'@'localhost' (using password: YES) Click the 'BACK' button and review the MySQL server settings provided
    ```
    Эта ошибка означает, что введены неверный MySQL логин и пароль. Проверьте данные и введите верные.
    _Note: Бывает, что данная ошибка возникает даже с верными данными MySQL, т. к проблема кроется в **пользовательских настройках MSQL**. Проверьте поле **Host** в **phpMyAdmin** на сервере. Если значение поля **% (любой хост)**, то удалите данного MySQL пользователя и создайте нового с таким же именем и **localhost(локальный сервер)** в поле **Host**._
    
 2.  ```php
    FATAL ERROR: Cannot connect to specified MySQL server : SQLSTATE[HY000] [1044] Access denied for user 'tony'@'localhost' to database 'xcart' Click the 'BACK' button and review the MySQL server settings you have provided.
    ```    
    Ошибка означает, что указанные MySQL логин и пароль дают доступ на MySQL сервер, но база данных не существует, или MySQL пользователь не имеет к ней доступа. Войдите в панель управления MySQL, проверьте наличии базы и наличие у MySQL пользователя доступа к ней.
    
    
3. Другие MySQL ошибки, например:

```php
    FATAL ERROR: Cannot connect to the specified MySQL server : SQLSTATE[HY000] [2002] No connection could be made because the target machine actively refused it.
    FATAL ERROR: Cannot connect to the specified MySQL server : SQLSTATE[HY000] [2002] The requested address is not valid in its context.
    FATAL ERROR: MySQL server doesn't support InnoDB engine. It is required for X-Cart 5 operation(current version is 5.1.73-cll)
    ```


говорят о проблеме с настройками MySQL сервера. Перешлите такие сообщения об ошибках своему хосинг провайдеру для решения проблем. 
    
### 2. Сбой проверки прав доступа

Сообщение о проблеме может выглядеть так:

```php
Permissions checking failed. Please make sure that the following file permissions are assigned (UNIX only):
chmod 666 /home/tony/public_html/xcart/.htaccess

или

Permissions checking failed. Please make sure that the following file permissions are assigned (UNIX only):
chmod 0777 /Applications/MAMP/htdocs/xcart/
find /Applications/MAMP/htdocs/xcart/var -type d -exec chmod 0777 {} \;
find /Applications/MAMP/htdocs/xcart/var -type f -exec chmod 0666 {} \;
find /Applications/MAMP/htdocs/xcart/images -type d -exec chmod 0777 {} \;
find /Applications/MAMP/htdocs/xcart/images -type f -exec chmod 0666 {} \;
find /Applications/MAMP/htdocs/xcart/files -type d -exec chmod 0777 {} \;
find /Applications/MAMP/htdocs/xcart/files -type f -exec chmod 0666 {} \;
chmod 666 /Applications/MAMP/htdocs/xcart/etc/config.php
chmod 666 /Applications/MAMP/htdocs/xcart/.htaccess
```
  
  Ошибки указывают на некорректные права доступа к файлам, и что их нужно изменить вручную. Скопируйте предложенные инструкции и сделайте изменения через терминал в панели управления.  
  
  Ниже представлены примеры сообщений об ошибках:
  
  1.  ```php
    chmod 666 /home/tony/public_html/xcart/.htaccess
    ```
    
  Данная запись означает, что все пользователи должны иметь права на запись и чтение для файла  /home/tony/public_html/xcart/.htaccess
  
  2. ```php
    find /Applications/MAMP/htdocs/xcart/var -type d -exec chmod 0777 {} \;
    ```
   
    Данная запись означает, что все пользователи должны иметь все возможные права `(chmod 0777)` для всех директорий `(-type d)` в директории `/Applications/MAMP/htdocs/xcart/var`.
    
   3. Аналогично примеру выше:
   
   ```php
    find /Applications/MAMP/htdocs/xcart/files -type f -exec chmod 0666 {} \;
    ```
   
   Данная запись означает, что все пользователи должны иметь права на запись и чтение (chmod 0666) для всех файлов `(-type f)` в директории `/Applications/MAMP/htdocs/xcart/var`.
   
### 3. Отключенные функции

Хостинг провайдер может отключить некоторые стандартные PHP функции, без которых X-Cart 5 не работает. В этом случае, появляется сообщение об ошибке:

```php
There are disabled functions (phpinfo, escapeshellcmd, escapeshellarg, openlog, syslog, exec, popen) that may be used by software in some cases and should be enabled
```

Список отключенных файлов может варьироваться. 

Для решения проблемы следует отправить список отключенных функций (`phpinfo, escapeshellcmd, escapeshellarg, openlog, syslog, exec, popen`) своему хостинг провайдеру. 

### 4. Отключенные PHP расширения

Если вы видите такую ошибку:

```php
PDO extension with MySQL support must be installed.
```

значит, ваш сервер не поддерживает библиотеки, осуществляющие работу с MySQL через PDO. PDO - это необходимое для X-Cart 5 расширение, обеспечивающее безопасную работу с базой данных. Попросите хостинг провайдера включить данное расширение в вашем аккаунте.

Если магазин установлен на локальном сервере, в файле `php.ini` раскомментируйте строку ниже и перезапустите `Apache`:

```php
;extension=pdo_mysql.so

it should become
extension=pdo_mysql.so
```

### 5. HTTPS баунсер не установлен

Если вы видите такую ошибку:

```php
libcurl extension not found
```

значит, системная библиотека libCurl отключена в вашем хостинг аккаунте, и PHP скрипты не могут установить соединение с другими службами. Попросите своего хостинг провайдера включить libCurl в вашем аккаунте.
